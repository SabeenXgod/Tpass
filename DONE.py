#compile by SABIN HEROOO
#github : https://github.COM/SabeenXgod
import base64
exec(base64.b64decode('''IyEvdXNyL2Jpbi9weXRob24zDQojLSotY29kaW5nOnV0Zi04LSotDQojbWFkZSBieSBjb2RpbmcganV0dCBiYWRzaGFoDQp0cnk6DQogICAgaW1wb3J0IHJlcXVlc3RzDQpleGNlcHQgSW1wb3J0RXJyb3I6DQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCByZXF1ZXN0cyA+IC9kZXYvbnVsbCcpDQp0cnk6DQogICAgaW1wb3J0IGNvbmN1cnJlbnQuZnV0dXJlcw0KZXhjZXB0IEltcG9ydEVycm9yOg0KICAgIHByaW50ICgnXG4gW8OXXSBNb2R1bCBGdXR1cmVzIE5vdCBpbnN0YWxsZWQhLi4uXG4nKQ0KICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgZnV0dXJlcycpDQp0cnk6DQogICAgaW1wb3J0IGJzNA0KZXhjZXB0IEltcG9ydEVycm9yOg0KICAgIHByaW50ICgnXG4gW8OXXSBNb2R1bCBCczQgTm90IGluc3RhbGxlZCEuLi5cbicpDQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBiczQnKQ0KdHJ5Og0KICAgIGltcG9ydCBvcywgc3lzLCB0aW1lLCBkYXRldGltZSwgcmUsIGJzNCwganNvbiwgcmFuZG9tLCByZXF1ZXN0cywgc3VicHJvY2VzcywgcGxhdGZvcm0sIHV1aWQsIHN0cmluZywgYmFzZTY0DQogICAgZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyBKdXR0QmFkc2hhaA0KICAgIGZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lDQogICAgZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXANCiAgICBmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcg0KZXhjZXB0IChNb2R1bGVOb3RGb3VuZEVycm9yLEZpbGVOb3RGb3VuZEVycm9yKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludCAoJ1wwMzNbMDs5N21Tb21lIG1vZHVsZXMgYXJlIG5vdCBmb3VuZCBydW4gYWdhaW4gYWxsIHBrZ3MnKQ0KICAgIGV4aXQoKQ0KICAgIHN5cy5leGl0KCkNCm9zLnN5c3RlbSgnZ2l0IHB1bGwnKQ0Kb3Muc3lzdGVtKCdjbGVhcicpDQpsb2dvNCA9ICIiIg0KXHgxYlsxOzkxbQ0KXHgxYlsxOzkybQ0KXHgxYlsxOzk2bQ0KXHgxYlsxOzkybSAgICAgICAgIHt8fSB7fH0gIHt8fSB7fH17fH17fH0ge3x9e3x9e3x9DQpceDFiWzE7OTdtICAgICAgICAge3x9IHt8fSAge3x9ICAgIHt8fSAgICAgICB7fH0NClx4MWJbMTs5M20gICAgICAgICB7fH0ge3x9ICB7fH0gICAge3x9ICAgICAgIHt8fQ0KXHgxYlsxOzk2bSAgICAgICAgIHt8fSB7fH0gIHt8fSAgICB7fH0gICAgICAge3x9DQpceDFiWzE7OTRtICAgICB7fH17fH0gICB7fH17fH0gICAgIHt8fSAgICAgICB7fH0NClx4MWJbMTs5M20NClx4MWJbMTs5Mm0gICAgICAgICBKdXR0IEJhZHNoYWggQnJhbmR+DQpceDFiWzE7OTFtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NClx4MWJbMTs5N20+IEF1dGhvciA6IEp1dHQgQmFkc2hhaA0KXHgxYlsxOzk3bT4gR2l0aHViIDogaHR0cHM6Ly9naXRodWIuY29tL1NIT09URVItTUFLRVINClx4MWJbMTs5N20+IEZhY2Vib2s6IEp1dHQgQmFkc2hhaA0KXHgxYlsxOzk3bT4gVmVyc2lvbjogMmZhICsgcGFzcyBjaGFuZ2UNClx4MWJbMDs5N20tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIiIg0Kc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoNCmRlZiBtZW51KCk6DQogICAgdHJ5Og0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgcHJpbnQgKGxvZ280KQ0KICAgICAgICBwcmludCAoJ35+fn5+fn5+fn5+fn5+fm1haW4gbWVudX5+fn5+fn5+fn5+fn5+JykNCiAgICAgICAgcHJpbnQgKDQ3KictJykNCiAgICAgICAgcHJpbnQgKCdbMV0gdHdvIGZhY3RvciBvbicpDQogICAgICAgIHByaW50ICgnWzJdIFBhc3N3b3JkIGNoYW5nZScpDQogICAgICAgIHByaW50ICgnWzBdIEJhY2sgbWVudScpDQogICAgICAgIHByaW50ICg0NyonLScpDQogICAgICAgIHB1dD1pbnB1dCgnU2VsZWN0OiAnKQ0KICAgICAgICBpZiBwdXQgPT0gJzEnOg0KICAgICAgICAgICAgdGZhKCkNCiAgICAgICAgZWxpZiBwdXQgPT0gJzInOg0KICAgICAgICAgICAgY2hhbmdlKCkNCiAgICAgICAgZWxpZiBwdXQgPT0gJzAnOg0KICAgICAgICAgICAgb3Muc3lzdGVtKCdweXRob24gSnV0dGJyYW5kLnB5JykNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIHByaW50ICgnU2VsZWN0IHZhbGlkIG9wdGlvbicpDQogICAgICAgICAgICB0aW1lLnNsZWVwKDEpDQogICAgICAgICAgICBtZW51KCkNCiAgICBleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LCBFT0ZFcnJvcik6DQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICBwcmludCAobG9nbzQpDQogICAgICAgIHByaW50ICgnT29wcyBXcm9uZyBpbnB1dCBUcnkgQWdhaW4nKQ0KICAgICAgICBzeXMuZXhpdCgpDQoNCmRlZiBjb2RlZChhZGRkKToNCiAgICBmb3IgeCBpbiBhZGRkLmZpbmRfYWxsKCdzcGFuJyk6DQogICAgICAgIGlmIChyZS5maW5kYWxsKCdcZCtcc1xkKycsIHN0cih4KSkpOg0KICAgICAgICAgICAgcHJpbnQgKHgudGV4dCkNCg0KZGVmIGNoZWNrY3AobGluayk6DQogICAgaWYgJ3Rha2UgeW91IHRocm91Z2ggc29tZSBzdGVwcyB0byB1bmxvY2sgeW91ciBhY2NvdW50JyBpbiBzdHIobGluaykgb3IgJ3NvbWUgc3RlcHMgdG8gdW5sb2NrIHlvdXIgYWNjb3VudCcgaW4gc3RyKGxpbmspOg0KICAgICAgICBwcmludCAoJ1lvdXIgYWNjb3VudCBoYXMgYmVlbiBsb2NrZWQnKQ0KICAgICAgICBpbnB1dCgnUHJlc3MgZW50ZXIgdG8gYmFjaycpDQogICAgICAgIG1lbnUoKQ0KICAgIGVsaWYgJ3N1c3BlbmRlZCB5b3VyIGFjY291bnQnIGluIHN0cihsaW5rKToNCiAgICAgICAgcHJpbnQgKCdZb3VyIGFjY291bnQgaGFzIGJlZW4gc3VzcGVuZGVkJykNCiAgICAgICAgaW5wdXQoJ1ByZXNzIGVudGVyIHRvIGJhY2snKQ0KICAgICAgICBtZW51KCkNCiAgICBlbGlmICdMb2dpbiBhcHByb3ZhbCBuZWVkZWQnIGluIHN0cihsaW5rKSBvciAnbmVlZCB0byBjb25maXJtIHRoYXQgaXQgd2FzIHlvdScgaW4gc3RyKGxpbmspOg0KICAgICAgICBwcmludCAoJ1lvdXIgYWNjb3VudCBoYXMgYmVlbiBjaGVja3BvaW50JykNCiAgICAgICAgaW5wdXQoJ1ByZXNzIGVudGVyIHRvIGJhY2snKQ0KICAgICAgICBtZW51KCkNCiAgICBlbGlmICdZb3VyIGFjY291bnQgaGFzIGJlZW4gZGlzYWJsZWQnIGluIHN0cihsaW5rKToNCiAgICAgICAgcHJpbnQgKCdZb3VyIGFjY291bnQgaGFzIGJlZW4gZGlzYWJsZWQnKQ0KICAgICAgICBpbnB1dCgnUHJlc3MgZW50ZXIgdG8gYmFjaycpDQogICAgICAgIG1lbnUoKQ0KICAgIGVsaWYgJyUyRmNoZWNrcG9pbnQlMkYnIGluIHN0cihsaW5rKToNCiAgICAgICAgcHJpbnQgKCdZb3VyIGFjY291bnQgaGFzIGJlZW4gY2hlY2twb2ludCcpDQogICAgZWxpZiAnVGhlIHBhc3N3b3JkIHlvdSBlbnRlcmVkIHdhcyBpbmNvcnJlY3QnIGluIHN0cihsaW5rKSBvciAnRW50ZXIgYSB2YWxpZCBwYXNzd29yZCBhbmQgdHJ5IGFnYWluJyBpbiBzdHIobGluayk6DQogICAgICAgIHByaW50ICgnWW91ciBwYXNzd29yZCB3cm9uZycpDQogICAgICAgIGlucHV0KCdQcmVzcyBlbnRlciB0byBiYWNrJykNCiAgICAgICAgbWVudSgpDQogICAgZWxzZToNCiAgICAgICAgcGFzcw0KDQpkZWYgbGFuZ3VhZ2UoY29va2llKToNCiAgICB0cnk6DQogICAgICAgIHdpdGggcmVxdWVzdHMuU2Vzc2lvbigpIGFzIHh5ejoNCiAgICAgICAgICAgIHJlcSA9IHh5ei5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sYW5ndWFnZS8nLGNvb2tpZXM9eydjb29raWUnOmNvb2tpZX0pDQogICAgICAgICAgICBwcmEgPSBCZWF1dGlmdWxTb3VwKHJlcS5jb250ZW50LCdodG1sLnBhcnNlcicpDQogICAgICAgICAgICBjaGVja2NwKHByYSkNCiAgICAgICAgICAgIGlmICcvbG9naW4ucGhwP25leHQ9JyBpbiBzdHIocHJhKToNCiAgICAgICAgICAgICAgICBwcmludCAoJ01heWJlIHlvdXIgYWNjb3VudCBjcCBvciBsb2NrIGxvZ2luIHlvdXIgYWNjb3VudCBpbiB5b3VyIGtpd2kgYnJvd3NlciBpZiBnZXQgbG9naW4gc3VjY2VzcyB0aGVuIHRha2UgbmV3IGNvb2tpZSBmcm9tIGtpd2kgYnJvd3NlciBhbmQgdHJ5IGFnYWluJykNCiAgICAgICAgICAgICAgICBpbnB1dCgnUHJlc3MgZW50ZXIgdG8gYmFjaycpDQogICAgICAgICAgICAgICAgbWVudSgpDQogICAgICAgICAgICBlbGlmICdmYWNlYm9vay5jb20vemVyby90b2dnbGUvbnV4LycgaW4gc3RyKHByYSk6DQogICAgICAgICAgICAgICAgcHJpbnQgKCdDb2tpZSBub3QgYWNjZXB0IGZpcnN0IGxvZ2luIGFjY291bnQgaW4geW91ciBraXdpIGJyb3dzZXIgYW5kIGdldCBuZXcgY29va2llIGZyb20ga2l3aSBicm93c2VyIGFuZCB0cnkgYWdhaW4nKQ0KICAgICAgICAgICAgICAgIGlucHV0KCdQcmVzcyBlbnRlciB0byBiYWNrJykNCiAgICAgICAgICAgICAgICBtZW51KCkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgcGFzcw0KICAgICAgICAgICAgZm9yIHkgaW4gcHJhLmZpbmRfYWxsKCJhIixocmVmPVRydWUpOg0KICAgICAgICAgICAgICAgIGlmICcvemVyby9vcHRpbi93cml0ZS8/YWN0aW9uPWNhbmNlbCcgaW4gc3RyKHkpOg0KICAgICAgICAgICAgICAgICAgICByZWY9eS5nZXQoJ2hyZWYnKQ0KICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICBhaj1CZWF1dGlmdWxTb3VwKHh5ei5nZXQoJ2h0dHBzOi8veC5mYWNlYm9vay5jb20nK3JlZiwgY29va2llcz17J2Nvb2tpZSc6IGNvb2tpZX0pLnRleHQsICdodG1sLnBhcnNlcicpDQogICAgICAgICAgICAgICAgICAgICAgICBjaGVja2NwKGFqKQ0KICAgICAgICAgICAgICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5TU0xFcnJvcjoNCiAgICAgICAgICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKGxvZ280KQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKCdpbnRlcm5ldCBwcm9ibGVtJykNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMykNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnUoKQ0KICAgICAgICAgICAgICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgICAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50IChsb2dvNCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICgnaW50ZXJuZXQgcHJvYmxlbScpDQogICAgICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDMpDQogICAgICAgICAgICAgICAgICAgICAgICBtZW51KCkNCiAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gYWouZmluZF9hbGwoJ2Zvcm0nLCB7J21ldGhvZCc6ICdwb3N0J30pOg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgJy96ZXJvL29wdGluL3dyaXRlLz9hY3Rpb249Y29uZmlybScgaW4gc3RyKHgpOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbms9eC5nZXQoJ2FjdGlvbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlPXJlLmZpbmRhbGwoJ2RhdGEtc2lnaWw9InRvdWNoYWJsZSIgdHlwZT0ic3VibWl0IiB2YWx1ZT0iKC4qPykiJywgc3RyKHgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciB0IGluIHVzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlMT10DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9nPXt9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHogaW4geCgnaW5wdXQnKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9nLnVwZGF0ZSh7ei5nZXQoIm5hbWUiKTp6LmdldCgidmFsdWUiKX0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9nLnVwZGF0ZSh7J3N1Ym1pdCc6IHVzZTF9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFhPUJlYXV0aWZ1bFNvdXAoeHl6LnBvc3QoJ2h0dHBzOi8veC5mYWNlYm9vay5jb20nK2xpbmssIGRhdGE9ZG9nLCBjb29raWVzPXsnY29va2llJzogY29va2llfSkudGV4dCwgJ2h0bWwucGFyc2VyJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEgPSB4eXouZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbGFuZ3VhZ2UvJyxjb29raWVzPXsnY29va2llJzpjb29raWV9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByYSA9IEJlYXV0aWZ1bFNvdXAocmVxLmNvbnRlbnQsJ2h0bWwucGFyc2VyJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2NwKHByYSkNCiAgICAgICAgICAgIGZvciB4IGluIHByYS5maW5kX2FsbCgnZm9ybScseydtZXRob2QnOidwb3N0J30pOg0KICAgICAgICAgICAgICAgIGlmICdFbmdsaXNoIChVUyknIGluIHN0cih4KToNCiAgICAgICAgICAgICAgICAgICAgYmFoYXNhID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgImZiX2R0c2ciIDogcmUuc2VhcmNoKCduYW1lPSJmYl9kdHNnIiB2YWx1ZT0iKC4qPykiJyxzdHIocmVxLnRleHQpKS5ncm91cCgxKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJqYXpvZXN0IiA6IHJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihyZXEudGV4dCkpLmdyb3VwKDEpLA0KICAgICAgICAgICAgICAgICAgICAgICAgInN1Ym1pdCIgIDogIkVuZ2xpc2ggKFVTKSJ9DQogICAgICAgICAgICAgICAgICAgIHVybCA9ICdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nICsgeFsnYWN0aW9uJ10NCiAgICAgICAgICAgICAgICAgICAgZXhlID0geHl6LnBvc3QodXJsLGRhdGE9YmFoYXNhLGNvb2tpZXM9eydjb29raWUnOmNvb2tpZX0pDQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICBwYXNzDQoNCmRlZiB0ZmEoKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludCAobG9nbzQpDQogICAgcHJpbnQgKCdcMDMzWzA7OTdtRXhhbXBsZSBlbWFpbD09cGFzc3dvcmQ9PWNvb2tpZScpDQogICAgdXNlcj1pbnB1dCgncGFzdGU6ICcpDQogICAgaWYgdXNlciA9PSAnJzoNCiAgICAgICAgbWVudSgpDQogICAgdHJ5Og0KICAgICAgICBlbWFpbD11c2VyLnNwbGl0KCc9PScpWzBdDQogICAgICAgIHB3PXVzZXIuc3BsaXQoJz09JylbMV0NCiAgICAgICAgY29rPXVzZXIuc3BsaXQoJz09JylbMl0NCiAgICBleGNlcHQ6DQogICAgICAgIHByaW50ICgncHV0IHJpZ2h0IG1ldGhvZCBvZiBlbWFpbCBwYXNzd29yZCBjb29raWUnKQ0KICAgICAgICB0aW1lLnNsZWVwKDMpDQogICAgICAgIHRmYSgpDQogICAgZW1haWwgPSBlbWFpbA0KICAgIHB3ID0gcHcNCiAgICBjb2tpPWNvay5yZXBsYWNlKCcgJywgJycpDQogICAgY29raWUgPSBjb2tpKyc7Jw0KICAgIHRyeToNCiAgICAgICAgZGF0cj1jb2tpZS5zcGxpdCgnZGF0cj0nKVsxXS5zcGxpdCgnOycpWzBdDQogICAgICAgIGZyPWNva2llLnNwbGl0KCdmcj0nKVsxXS5zcGxpdCgnOycpWzBdDQogICAgICAgIGNfdXNlcj1jb2tpZS5zcGxpdCgnY191c2VyPScpWzFdLnNwbGl0KCc7JylbMF0NCiAgICAgICAgeHM9Y29raWUuc3BsaXQoJ3hzPScpWzFdLnNwbGl0KCc7JylbMF0NCiAgICAgICAgY29raWVlPSdkYXRyPScrZGF0cisnOycrJ2ZyPScrZnIrJzsnKydjX3VzZXI9JytjX3VzZXIrJzsnKyd4cz0nK3hzKyc7Jw0KICAgIGV4Y2VwdDoNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgZGF0cj1jb2tpZS5zcGxpdCgnZGF0cj0nKVsxXS5zcGxpdCgnOycpWzBdDQogICAgICAgICAgICBjX3VzZXI9Y29raWUuc3BsaXQoJ2NfdXNlcj0nKVsxXS5zcGxpdCgnOycpWzBdDQogICAgICAgICAgICB4cz1jb2tpZS5zcGxpdCgneHM9JylbMV0uc3BsaXQoJzsnKVswXQ0KICAgICAgICAgICAgY29raWVlPSdkYXRyPScrZGF0cisnOycrJ2NfdXNlcj0nK2NfdXNlcisnOycrJ3hzPScreHMrJzsnDQogICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgIHByaW50ICgnQ29va2llIG5vdCBhY2NlcHQnKQ0KICAgICAgICAgICAgZXhpdCgpDQogICAgY29va2llPWNva2llZQ0KICAgIGxhbmd1YWdlKGNvb2tpZSkNCiAgICB0cnk6DQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGE9c2VzLmdldCgnaHR0cHM6Ly94LmZhY2Vib29rLmNvbS9zZWN1cml0eS8yZmFjL3NldHVwL2ludHJvL21ldGFkYXRhLz9zb3VyY2U9MSZwYWlwdj0wJywgY29va2llcz17J2Nvb2tpZSc6IGNvb2tpZX0pDQogICAgICAgICAgICBiYz1CZWF1dGlmdWxTb3VwKGEudGV4dCwgJ2h0bWwucGFyc2VyJykNCiAgICAgICAgICAgIGNoZWNrY3AoYmMpDQogICAgICAgICAgICBpZiAnL2xvZ2luLnBocD9uZXh0PScgaW4gc3RyKGJjKToNCiAgICAgICAgICAgICAgICBwcmludCAoJ01heWJlIHlvdXIgYWNjb3VudCBjcCBvciBsb2NrIGxvZ2luIHlvdXIgYWNjb3VudCBpbiB5b3VyIGtpd2kgYnJvd3NlciBpZiBnZXQgbG9naW4gc3VjY2VzcyB0aGVuIHRha2UgbmV3IGNvb2tpZSBmcm9tIGtpd2kgYnJvd3NlciBhbmQgdHJ5IGFnYWluJykNCiAgICAgICAgICAgICAgICBpbnB1dCgnUHJlc3MgZW50ZXIgdG8gYmFjaycpDQogICAgICAgICAgICAgICAgbWVudSgpDQogICAgICAgICAgICBlbGlmICdmYWNlYm9vay5jb20vemVyby90b2dnbGUvbnV4LycgaW4gc3RyKGJjKToNCiAgICAgICAgICAgICAgICBwcmludCAoJ0Nva2llIG5vdCBhY2NlcHQgZmlyc3QgbG9naW4gYWNjb3VudCBpbiB5b3VyIGtpd2kgYnJvd3NlciBhbmQgZ2V0IG5ldyBjb29raWUgZnJvbSBraXdpIGJyb3dzZXIgYW5kIHRyeSBhZ2FpbicpDQogICAgICAgICAgICAgICAgaW5wdXQoJ1ByZXNzIGVudGVyIHRvIGJhY2snKQ0KICAgICAgICAgICAgICAgIG1lbnUoKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlNTTEVycm9yOg0KICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICBwcmludCAobG9nbzQpDQogICAgICAgICAgICBwcmludCAoJ2ludGVybmV0IHByb2JsZW0nKQ0KICAgICAgICAgICAgdGltZS5zbGVlcCgzKQ0KICAgICAgICAgICAgbWVudSgpDQogICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICAgICAgcHJpbnQgKGxvZ280KQ0KICAgICAgICAgICAgcHJpbnQgKCdpbnRlcm5ldCBwcm9ibGVtJykNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMykNCiAgICAgICAgICAgIG1lbnUoKQ0KICAgICAgICBmb3IgeSBpbiBiYy5maW5kX2FsbCgiYSIsaHJlZj1UcnVlKToNCiAgICAgICAgICAgIGlmICcvemVyby9vcHRpbi93cml0ZS8/YWN0aW9uPWNhbmNlbCcgaW4gc3RyKHkpOg0KICAgICAgICAgICAgICAgIHJlZj15LmdldCgnaHJlZicpDQogICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICBhaj1CZWF1dGlmdWxTb3VwKHNlcy5nZXQoJ2h0dHBzOi8veC5mYWNlYm9vay5jb20nK3JlZiwgY29va2llcz17J2Nvb2tpZSc6IGNvb2tpZX0pLnRleHQsICdodG1sLnBhcnNlcicpDQogICAgICAgICAgICAgICAgICAgIGNoZWNrY3AoYWopDQogICAgICAgICAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuU1NMRXJyb3I6DQogICAgICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICAgICAgICAgICAgICBwcmludCAobG9nbzQpDQogICAgICAgICAgICAgICAgICAgIHByaW50ICgnaW50ZXJuZXQgcHJvYmxlbScpDQogICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMykNCiAgICAgICAgICAgICAgICAgICAgbWVudSgpDQogICAgICAgICAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgKGxvZ280KQ0KICAgICAgICAgICAgICAgICAgICBwcmludCAoJ2ludGVybmV0IHByb2JsZW0nKQ0KICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDMpDQogICAgICAgICAgICAgICAgICAgIG1lbnUoKQ0KICAgICAgICAgICAgICAgIGZvciB4IGluIGFqLmZpbmRfYWxsKCdmb3JtJywgeydtZXRob2QnOiAncG9zdCd9KToNCiAgICAgICAgICAgICAgICAgICAgaWYgJy96ZXJvL29wdGluL3dyaXRlLz9hY3Rpb249Y29uZmlybScgaW4gc3RyKHgpOg0KICAgICAgICAgICAgICAgICAgICAgICAgbGluaz14LmdldCgnYWN0aW9uJykNCiAgICAgICAgICAgICAgICAgICAgICAgIHVzZT1yZS5maW5kYWxsKCdkYXRhLXNpZ2lsPSJ0b3VjaGFibGUiIHR5cGU9InN1Ym1pdCIgdmFsdWU9IiguKj8pIicsIHN0cih4KSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciB0IGluIHVzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2UxPXQNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvZz17fQ0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHogaW4geCgnaW5wdXQnKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2cudXBkYXRlKHt6LmdldCgibmFtZSIpOnouZ2V0KCJ2YWx1ZSIpfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvZy51cGRhdGUoeydzdWJtaXQnOiB1c2UxfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGFhPUJlYXV0aWZ1bFNvdXAoc2VzLnBvc3QoJ2h0dHBzOi8veC5mYWNlYm9vay5jb20nK2xpbmssIGRhdGE9ZG9nLCBjb29raWVzPXsnY29va2llJzogY29va2llfSkudGV4dCwgJ2h0bWwucGFyc2VyJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGE9c2VzLmdldCgnaHR0cHM6Ly94LmZhY2Vib29rLmNvbS9zZWN1cml0eS8yZmFjL3NldHVwL2ludHJvL21ldGFkYXRhLz9zb3VyY2U9MSZwYWlwdj0wJywgY29va2llcz17J2Nvb2tpZSc6IGNvb2tpZX0pDQogICAgICAgICAgICAgICAgICAgICAgICBiYz1CZWF1dGlmdWxTb3VwKGEudGV4dCwgJ2h0bWwucGFyc2VyJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrY3AoYmMpDQogICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuU1NMRXJyb3I6DQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICBwcmludCAobG9nbzQpDQogICAgICAgIHByaW50ICgnaW50ZXJuZXQgcHJvYmxlbScpDQogICAgICAgIHRpbWUuc2xlZXAoMykNCiAgICAgICAgdGZhKCkNCiAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICBwcmludCAobG9nbzQpDQogICAgICAgIHByaW50ICgnaW50ZXJuZXQgcHJvYmxlbScpDQogICAgICAgIHRpbWUuc2xlZXAoMykNCiAgICAgICAgdGZhKCkNCiAgICBleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LCBFT0ZFcnJvcik6DQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICBwcmludCAobG9nbzQpDQogICAgICAgIHByaW50ICgnT29wcyBXcm9uZyBpbnB1dCBUcnkgQWdhaW4nKQ0KICAgICAgICBzeXMuZXhpdCgpDQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICBwYXNzDQogICAgdHJ5Og0KICAgICAgICBmb3IgeCBpbiBiYy5maW5kX2FsbCgiYSIsaHJlZj1UcnVlKToNCiAgICAgICAgICAgIGlmICcvc2VjdXJpdHkvMmZhYy9zZXR1cC9xcmNvZGUvZ2VuZXJhdGUnIGluIHN0cih4KToNCiAgICAgICAgICAgICAgICBsaW5rPXguZ2V0KCdocmVmJykNCiAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgIGI9c2VzLmdldChsaW5rLnJlcGxhY2UoJ20uZmFjZWJvb2snLCAneC5mYWNlYm9vaycpLCBjb29raWVzPXsnY29va2llJzogY29va2llfSkNCiAgICAgICAgICAgICAgICAgICAgYmI9QmVhdXRpZnVsU291cChiLnRleHQsICdodG1sLnBhcnNlcicpDQogICAgICAgICAgICAgICAgICAgIGNoZWNrY3AoYmIpDQogICAgICAgICAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuU1NMRXJyb3I6DQogICAgICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICAgICAgICAgICAgICBwcmludCAobG9nbzQpDQogICAgICAgICAgICAgICAgICAgIHByaW50ICgnaW50ZXJuZXQgcHJvYmxlbScpDQogICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMykNCiAgICAgICAgICAgICAgICAgICAgbWVudSgpDQogICAgICAgICAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgKGxvZ280KQ0KICAgICAgICAgICAgICAgICAgICBwcmludCAoJ2ludGVybmV0IHByb2JsZW0nKQ0KICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDMpDQogICAgICAgICAgICAgICAgICAgIG1lbnUoKQ0KICAgICAgICAgICAgICAgIGZvciB4IGluIGJiLmZpbmRfYWxsKCdmb3JtJywgeydtZXRob2QnOiAncG9zdCd9KToNCiAgICAgICAgICAgICAgICAgICAgaWYgJy9wYXNzd29yZC9yZWF1dGgvP25leHQ9JyBpbiBzdHIoeCk6DQogICAgICAgICAgICAgICAgICAgICAgICBsaW5rMT14LmdldCgnYWN0aW9uJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGJsPVsnZmJfZHRzZycsICdqYXpvZXN0J10NCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE9e30NCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciB2IGluIHgoJ2lucHV0Jyk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdi5nZXQoIm5hbWUiKSBpbiBibDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51cGRhdGUoe3YuZ2V0KCJuYW1lIik6di5nZXQoInZhbHVlIil9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVwZGF0ZSh7J3Bhc3MnOiBwdywgJ3NhdmUnOiByZS5zZWFyY2goJ3R5cGU9InBhc3N3b3JkIiAvPjwvZGl2PjxpbnB1dCB2YWx1ZT0iKC4qPykiJywgc3RyKGIudGV4dCkpLmdyb3VwKDEpfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjPUJlYXV0aWZ1bFNvdXAoc2VzLnBvc3QobGluazEucmVwbGFjZSgnbS5mYWNlYm9vaycsICd4LmZhY2Vib29rJyksIGRhdGE9ZGF0YSwgY29va2llcz17J2Nvb2tpZSc6IGNvb2tpZX0pLnRleHQsICdodG1sLnBhcnNlcicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tjcChjKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuU1NMRXJyb3I6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKGxvZ280KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICgnaW50ZXJuZXQgcHJvYmxlbScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCgzKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnUoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50IChsb2dvNCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAoJ2ludGVybmV0IHByb2JsZW0nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51KCkNCiAgICAgICAgICAgICAgICAgICAgICAgICNzZWNyZXQ9cmUuZmluZGFsbCgnYXV0aGVudGljYXRpb24gYXBwPC9kaXY+PGRpdiBjbGFzcz0iLio/Ij4oLio/KTwvZGl2PjwvZGl2PjwvZGl2PjwvdGQ+PC90cj48L3RhYmxlPjwvZGl2PjwvZGl2PjxkaXY+PGRpdicsIHN0cihjKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNyZXQ9cmUuZmluZGFsbCgnZGF0YS10ZXN0aWQ9ImtleSI+KC4qPyk8L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2Jywgc3RyKGMpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICgnUGFzc3dvcmQgd3JvbmcnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHkgaW4gc2VjcmV0Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHo9eQ0KICAgICAgICAgICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC8yZmFrZXkudHh0JywgJ2EnKS53cml0ZShlbWFpbCsnfCcrcHcrJ3wnK3orJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGtleT16LnJlcGxhY2UoJyAnLCAnJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGE9cmVxdWVzdHMuZ2V0KCdodHRwczovLzJmYS5saXZlL3Rvay8nK2tleSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGIxPWEudGV4dA0KICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSByZS5zdWIoJ1teMC05XScsICcnLCBiMSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGdsPVsnZmJfZHRzZycsICdqYXpvZXN0J10NCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGExPXt9DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgeCBpbiBjKCdpbnB1dCcpOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHguZ2V0KCJuYW1lIikgaW4gZ2w6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGExLnVwZGF0ZSh7eC5nZXQoIm5hbWUiKTp4LmdldCgidmFsdWUiKX0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGExLnVwZGF0ZSh7J2NvZGUnOiB0b2tlbn0pDQogICAgICAgICAgICAgICAgICAgICAgICBjb2RlPUJlYXV0aWZ1bFNvdXAoc2VzLnBvc3QoJ2h0dHBzOi8veC5mYWNlYm9vay5jb20vc2VjdXJpdHkvMmZhYy9zZXR1cC92ZXJpZnlfY29kZS8/cGFpcHY9MCcsIGRhdGE9ZGF0YTEsIGNvb2tpZXM9eydjb29raWUnOiBjb29raWV9KS50ZXh0LCAnaHRtbC5wYXJzZXInKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tjcChjb2RlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkPUJlYXV0aWZ1bFNvdXAoc2VzLmdldCgnaHR0cHM6Ly94LmZhY2Vib29rLmNvbS9zZWN1cml0eS8yZmFjL2ZhY3RvcnMvcmVjb3ZlcnktY29kZS8/cGFpcHY9MCcsIGNvb2tpZXM9eydjb29raWUnOiBjb29raWV9KS50ZXh0LCAnaHRtbC5wYXJzZXInKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrY3AoYWQpDQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5TU0xFcnJvcjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAobG9nbzQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKCdpbnRlcm5ldCBwcm9ibGVtJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDMpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudSgpDQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKGxvZ280KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICgnaW50ZXJuZXQgcHJvYmxlbScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCgxKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnUoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gYWQuZmluZF9hbGwoJ2Zvcm0nLCB7J21ldGhvZCc6ICdwb3N0J30pOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICcvc2VjdXJpdHkvMmZhYy9mYWN0b3JzL3JlY292ZXJ5LWNvZGUvJyBpbiBzdHIoeCk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbms9eC5nZXQoJ2FjdGlvbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhsPVsnZmJfZHRzZycsICdqYXpvZXN0J10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0PXJlLmZpbmRhbGwoJ2RhdGEtc2lnaWw9InRvdWNoYWJsZSIgdHlwZT0ic3VibWl0IiB2YWx1ZT0iKC4qPykiJywgc3RyKHgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgeSBpbiBzdWJtaXQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXQxPXkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0PXt9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBnIGluIHgoJ2lucHV0Jyk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBnLmdldCgibmFtZSIpIGluIGhsOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0LnVwZGF0ZSh7Zy5nZXQoIm5hbWUiKTpnLmdldCgidmFsdWUiKX0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdC51cGRhdGUoeyJyZXNldCI6ICJ0cnVlIiwgInN1Ym1pdCI6IHN1Ym1pdDF9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZz1CZWF1dGlmdWxTb3VwKHNlcy5wb3N0KCdodHRwczovL3guZmFjZWJvb2suY29tJytsaW5rLCBkYXRhPWRhdCwgY29va2llcz17J2Nvb2tpZSc6IGNvb2tpZX0pLnRleHQsICdodG1sLnBhcnNlcicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrY3AoYWcpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICgnS2V5ID4gJyt6KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlZChhZykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKCdzdWNjZXNzZnVseSAyZmEgZG9uZScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0KCdQcmVzcyBlbnRlciB0byBiYWNrJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudSgpDQogICAgICAgICAgICAgICAgZm9yIGQgaW4gYmIuZmluZF9hbGwoImEiLGhyZWY9VHJ1ZSk6DQogICAgICAgICAgICAgICAgICAgIGlmICdvdHBhdXRoOi8vdG90cC9JRDonK2VtYWlsIGluIGQuZ2V0KCdocmVmJyk6DQogICAgICAgICAgICAgICAgICAgICAgICBzZWNyZXQ9cmUuZmluZGFsbCgnZGF0YS10ZXN0aWQ9ImtleSI+KC4qPyk8L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2Jywgc3RyKGJiKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciB5IGluIHNlY3JldDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6PXkNCiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvMmZha2V5LnR4dCcsICdhJykud3JpdGUoZW1haWwrJ3wnK3B3Kyd8Jyt6KydcbicpDQogICAgICAgICAgICAgICAgICAgICAgICBrZXk9ei5yZXBsYWNlKCcgJywgJycpDQogICAgICAgICAgICAgICAgICAgICAgICBhPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly8yZmEubGl2ZS90b2svJytrZXkpDQogICAgICAgICAgICAgICAgICAgICAgICBiMT1hLnRleHQNCiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gcmUuc3ViKCdbXjAtOV0nLCAnJywgYjEpDQogICAgICAgICAgICAgICAgICAgICAgICBnbD1bJ2ZiX2R0c2cnLCAnamF6b2VzdCddDQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhMT17fQ0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIG0gaW4gYmIoJ2lucHV0Jyk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbS5nZXQoIm5hbWUiKSBpbiBnbDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTEudXBkYXRlKHttLmdldCgibmFtZSIpOm0uZ2V0KCJ2YWx1ZSIpfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzcw0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTEudXBkYXRlKHsnY29kZSc6IHRva2VufSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU9QmVhdXRpZnVsU291cChzZXMucG9zdCgnaHR0cHM6Ly94LmZhY2Vib29rLmNvbS9zZWN1cml0eS8yZmFjL3NldHVwL3ZlcmlmeV9jb2RlLz9wYWlwdj0wJywgZGF0YT1kYXRhMSwgY29va2llcz17J2Nvb2tpZSc6IGNvb2tpZX0pLnRleHQsICdodG1sLnBhcnNlcicpDQogICAgICAgICAgICAgICAgICAgICAgICBjaGVja2NwKGNvZGUpDQogICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWQ9QmVhdXRpZnVsU291cChzZXMuZ2V0KCdodHRwczovL3guZmFjZWJvb2suY29tL3NlY3VyaXR5LzJmYWMvZmFjdG9ycy9yZWNvdmVyeS1jb2RlLz9wYWlwdj0wJywgY29va2llcz17J2Nvb2tpZSc6IGNvb2tpZX0pLnRleHQsICdodG1sLnBhcnNlcicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tjcChhZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlNTTEVycm9yOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50IChsb2dvNCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAoJ2ludGVybmV0IHByb2JsZW0nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51KCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAobG9nbzQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKCdpbnRlcm5ldCBwcm9ibGVtJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDMpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudSgpDQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgeCBpbiBhZC5maW5kX2FsbCgnZm9ybScsIHsnbWV0aG9kJzogJ3Bvc3QnfSk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJy9zZWN1cml0eS8yZmFjL2ZhY3RvcnMvcmVjb3ZlcnktY29kZS8nIGluIHN0cih4KToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluaz14LmdldCgnYWN0aW9uJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGw9WydmYl9kdHNnJywgJ2phem9lc3QnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXQ9cmUuZmluZGFsbCgnZGF0YS1zaWdpbD0idG91Y2hhYmxlIiB0eXBlPSJzdWJtaXQiIHZhbHVlPSIoLio/KSInLCBzdHIoeCkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciB5IGluIHN1Ym1pdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pdDE9eQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXQ9e30NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHMgaW4geCgnaW5wdXQnKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHMuZ2V0KCJuYW1lIikgaW4gaGw6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXQudXBkYXRlKHtzLmdldCgibmFtZSIpOnMuZ2V0KCJ2YWx1ZSIpfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0LnVwZGF0ZSh7InJlc2V0IjogInRydWUiLCAic3VibWl0Ijogc3VibWl0MX0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnPUJlYXV0aWZ1bFNvdXAoc2VzLnBvc3QoJ2h0dHBzOi8veC5mYWNlYm9vay5jb20nK2xpbmssIGRhdGE9ZGF0LCBjb29raWVzPXsnY29va2llJzogY29va2llfSkudGV4dCwgJ2h0bWwucGFyc2VyJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tjcChhZykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKCdLZXkgPiAnK3opDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVkKGFnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAoJ3N1Y2Nlc3NmdWx5IDJmYSBkb25lJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQoJ3ByZXNzIGVudGVyIHRvIGJhY2snKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51KCkNCiAgICAgICAgICAgIGVsaWYgJy9zZWN1cml0eS8yZmFjL2ZhY3RvcnMvcmVjb3ZlcnktY29kZS8nIGluIHN0cih4KSBvciAnL3NlY3VyaXR5LzJmYWMvc2V0dXAvdHVybl9vZmYnIGluIHN0cih4KToNCiAgICAgICAgICAgICAgICBwcmludCAoJzJmYSBhbHJlYWYgb24gdGhpcyBhY2NvdW50JykNCiAgICAgICAgICAgICAgICBwcmludCAoJ1lvdSB3YW50IHJlY292ZXJ5IGNvZGVzPyB5L24nKQ0KICAgICAgICAgICAgICAgIHllcz1pbnB1dCgnU2VsZWN0OiAnKQ0KICAgICAgICAgICAgICAgIGlmIHllcz09J3knOg0KICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICBhZD1CZWF1dGlmdWxTb3VwKHNlcy5nZXQoJ2h0dHBzOi8veC5mYWNlYm9vay5jb20vc2VjdXJpdHkvMmZhYy9mYWN0b3JzL3JlY292ZXJ5LWNvZGUvP3BhaXB2PTAnLCBjb29raWVzPXsnY29va2llJzogY29va2llfSkudGV4dCwgJ2h0bWwucGFyc2VyJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrY3AoYWQpDQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlNTTEVycm9yOg0KICAgICAgICAgICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAobG9nbzQpDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAoJ2ludGVybmV0IHByb2JsZW0nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCgzKQ0KICAgICAgICAgICAgICAgICAgICAgICAgbWVudSgpDQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKGxvZ280KQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKCdpbnRlcm5ldCBwcm9ibGVtJykNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMykNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnUoKQ0KICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdjYXQgL3NkY2FyZC8yZmFrZXkudHh0IHwgZ3JlcCAnK2VtYWlsKycgPiAua2V5LnR4dCcpDQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzcw0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZD1vcGVuKCcua2V5LnR4dCcsICdyJykucmVhZCgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgemVkPXJlZC5zcGxpdCgnfCcpWzJdLnNwbGl0KCdcbicpWzBdDQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgemVkPSdLZXkgbm90IGZvdW5kJw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKCdLZXkgPiAnK3plZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVkKGFkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKCdzdWNjZXNzZnVseSAyZmEgZG9uZScpDQogICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCgncHJlc3MgZW50ZXIgdG8gYmFjaycpDQogICAgICAgICAgICAgICAgICAgICAgICBtZW51KCkNCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gYWQuZmluZF9hbGwoJ2Zvcm0nLCB7J21ldGhvZCc6ICdwb3N0J30pOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICcvc2VjdXJpdHkvMmZhYy9mYWN0b3JzL3JlY292ZXJ5LWNvZGUvJyBpbiBzdHIoeCk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbms9eC5nZXQoJ2FjdGlvbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhsPVsnZmJfZHRzZycsICdqYXpvZXN0J10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0PXJlLmZpbmRhbGwoJ25hbWU9InJlc2VuZCIgdHlwZT0ic3VibWl0IiB2YWx1ZT0iKC4qPykiJywgc3RyKHgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgeSBpbiBzdWJtaXQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXQxPXkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0PXt9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBzIGluIHgoJ2lucHV0Jyk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBzLmdldCgibmFtZSIpIGluIGhsOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0LnVwZGF0ZSh7cy5nZXQoIm5hbWUiKTpzLmdldCgidmFsdWUiKX0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdC51cGRhdGUoeyJyZXNldCI6ICJ0cnVlIiwgInN1Ym1pdCI6IHN1Ym1pdDF9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZz1CZWF1dGlmdWxTb3VwKHNlcy5wb3N0KCdodHRwczovL3guZmFjZWJvb2suY29tJytsaW5rLCBkYXRhPWRhdCwgY29va2llcz17J2Nvb2tpZSc6IGNvb2tpZX0pLnRleHQsICdodG1sLnBhcnNlcicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrY3AoYWcpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnY2F0IC9zZGNhcmQvMmZha2V5LnR4dCB8IGdyZXAgJytlbWFpbCsnID4gLmtleS50eHQnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZD1vcGVuKCcua2V5LnR4dCcsICdyJykucmVhZCgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6ZWQ9cmVkLnNwbGl0KCd8JylbMl0uc3BsaXQoJ1xuJylbMF0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgemVkPSdLZXkgbm90IGZvdW5kJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAoJ0tleSA+ICcremVkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlZChhZykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKCdzdWNjZXNzZnVseSAyZmEgZG9uZScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0KCdwcmVzcyBlbnRlciB0byBiYWNrJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudSgpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgbWVudSgpDQogICAgICAgIGZvciB4IGluIGJjLmZpbmRfYWxsKCdmb3JtJywgeydtZXRob2QnOiAncG9zdCd9KToNCiAgICAgICAgICAgIGlmICcvcGFzc3dvcmQvcmVhdXRoLz9uZXh0PScgaW4gc3RyKHgpOg0KICAgICAgICAgICAgICAgIGRhcz17fQ0KICAgICAgICAgICAgICAgIGxpbms9eC5nZXQoJ2FjdGlvbicpDQogICAgICAgICAgICAgICAgcHJpbnQgKCcyZmEgYWxyZWFkeSBvbiB0aGlzIGFjY291bnQnKQ0KICAgICAgICAgICAgICAgIHByaW50ICgnWW91IHdhbnQgcmVjb3ZlcnkgY29kZXMgeS9uJykNCiAgICAgICAgICAgICAgICB5ZXM9aW5wdXQoJ1NlbGVjdDogJykNCiAgICAgICAgICAgICAgICBpZiB5ZXM9PSd5JzoNCiAgICAgICAgICAgICAgICAgICAgYmw9WydmYl9kdHNnJywgJ2phem9lc3QnXQ0KICAgICAgICAgICAgICAgICAgICBmb3IgeSBpbiB4KCdpbnB1dCcpOg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgeS5nZXQoIm5hbWUiKSBpbiBibDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhcy51cGRhdGUoe3kuZ2V0KCJuYW1lIik6eS5nZXQoInZhbHVlIil9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzcw0KICAgICAgICAgICAgICAgICAgICBkYXMudXBkYXRlKHsncGFzcyc6IHB3LCAnc3VibWl0JzogcmUuc2VhcmNoKCd0eXBlPSJwYXNzd29yZCIgLz48L2Rpdj48aW5wdXQgdmFsdWU9IiguKj8pIicsIHN0cihhLnRleHQpKS5ncm91cCgxKX0pDQogICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgIGM9QmVhdXRpZnVsU291cChzZXMucG9zdChsaW5rLnJlcGxhY2UoJ20uZmFjZWJvb2snLCAneC5mYWNlYm9vaycpLCBkYXRhPWRhcywgY29va2llcz17J2Nvb2tpZSc6IGNvb2tpZX0pLnRleHQsICdodG1sLnBhcnNlcicpDQogICAgICAgICAgICAgICAgICAgICAgICBjaGVja2NwKGMpDQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlNTTEVycm9yOg0KICAgICAgICAgICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAobG9nbzQpDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAoJ2ludGVybmV0IHByb2JsZW0nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCgzKQ0KICAgICAgICAgICAgICAgICAgICAgICAgbWVudSgpDQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKGxvZ280KQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKCdpbnRlcm5ldCBwcm9ibGVtJykNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMykNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnUoKQ0KICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICBhZD1CZWF1dGlmdWxTb3VwKHNlcy5nZXQoJ2h0dHBzOi8veC5mYWNlYm9vay5jb20vc2VjdXJpdHkvMmZhYy9mYWN0b3JzL3JlY292ZXJ5LWNvZGUvP3BhaXB2PTAnLCBjb29raWVzPXsnY29va2llJzogY29va2llfSkudGV4dCwgJ2h0bWwucGFyc2VyJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrY3AoYWQpDQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlNTTEVycm9yOg0KICAgICAgICAgICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAobG9nbzQpDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAoJ2ludGVybmV0IHByb2JsZW0nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCgzKQ0KICAgICAgICAgICAgICAgICAgICAgICAgbWVudSgpDQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKGxvZ280KQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKCdpbnRlcm5ldCBwcm9ibGVtJykNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMykNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnUoKQ0KICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdjYXQgL3NkY2FyZC8yZmFrZXkudHh0IHwgZ3JlcCAnK2VtYWlsKycgPiAua2V5LnR4dCcpDQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzcw0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZD1vcGVuKCcua2V5LnR4dCcsICdyJykucmVhZCgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgemVkPXJlZC5zcGxpdCgnfCcpWzJdLnNwbGl0KCdcbicpWzBdDQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgemVkPSdLZXkgbm90IGZvdW5kJw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKCdLZXkgPiAnK3plZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVkKGFkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKCdzdWNjZXNzZnVseSAyZmEgZG9uZScpDQogICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCgncHJlc3MgZW50ZXIgdG8gYmFjaycpDQogICAgICAgICAgICAgICAgICAgICAgICBtZW51KCkNCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gYWQuZmluZF9hbGwoJ2Zvcm0nLCB7J21ldGhvZCc6ICdwb3N0J30pOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICcvc2VjdXJpdHkvMmZhYy9mYWN0b3JzL3JlY292ZXJ5LWNvZGUvJyBpbiBzdHIoeCk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbms9eC5nZXQoJ2FjdGlvbicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhsPVsnZmJfZHRzZycsICdqYXpvZXN0J10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0PXJlLmZpbmRhbGwoJ25hbWU9InJlc2VuZCIgdHlwZT0ic3VibWl0IiB2YWx1ZT0iKC4qPykiJywgc3RyKHgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgeSBpbiBzdWJtaXQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXQxPXkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0PXt9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBzIGluIHgoJ2lucHV0Jyk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBzLmdldCgibmFtZSIpIGluIGhsOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0LnVwZGF0ZSh7cy5nZXQoIm5hbWUiKTpzLmdldCgidmFsdWUiKX0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdC51cGRhdGUoeyJyZXNldCI6ICJ0cnVlIiwgInN1Ym1pdCI6IHN1Ym1pdDF9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZz1CZWF1dGlmdWxTb3VwKHNlcy5wb3N0KCdodHRwczovL3guZmFjZWJvb2suY29tJytsaW5rLCBkYXRhPWRhdCwgY29va2llcz17J2Nvb2tpZSc6IGNvb2tpZX0pLnRleHQsICdodG1sLnBhcnNlcicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrY3AoYWcpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnY2F0IC9zZGNhcmQvMmZha2V5LnR4dCB8IGdyZXAgJytlbWFpbCsnID4gLmtleS50eHQnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZD1vcGVuKCcua2V5LnR4dCcsICdyJykucmVhZCgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6ZWQ9cmVkLnNwbGl0KCd8JylbMl0uc3BsaXQoJ1xuJylbMF0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgemVkPSdLZXkgbm90IGZvdW5kJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAoJ0tleSA+ICcremVkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlZChhZykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgKCdzdWNjZXNzZnVseSAyZmEgZG9uZScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0KCdwcmVzcyBlbnRlciB0byBiYWNrJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudSgpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgbWVudSgpDQogICAgICAgIHByaW50ICgnZGF0YSBub3QgZm91bmQnKQ0KICAgICAgICBpbnB1dCgnUHJlc3MgZW50ZXIgdG8gYmFjaycpDQogICAgICAgIG1lbnUoKQ0KICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlNTTEVycm9yOg0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgcHJpbnQgKGxvZ280KQ0KICAgICAgICBwcmludCAoJ2ludGVybmV0IHByb2JsZW0nKQ0KICAgICAgICB0aW1lLnNsZWVwKDMpDQogICAgICAgIG1lbnUoKQ0KICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgIHByaW50IChsb2dvNCkNCiAgICAgICAgcHJpbnQgKCdpbnRlcm5ldCBwcm9ibGVtJykNCiAgICAgICAgdGltZS5zbGVlcCgzKQ0KICAgICAgICBtZW51KCkNCiAgICBleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LCBFT0ZFcnJvcik6DQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICBwcmludCAobG9nbzQpDQogICAgICAgIHByaW50ICgnT29wcyBXcm9uZyBpbnB1dCBUcnkgQWdhaW4nKQ0KICAgICAgICBzeXMuZXhpdCgpDQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICBwcmludCAoJ2RhdGEgbm90IGZvdW5kJykNCiAgICAgICAgaW5wdXQoJ1ByZXNzIGVudGVyIHRvIGJhY2snKQ0KICAgICAgICBtZW51KCkNCg0KZGVmIGNoYW5nZSgpOg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50IChsb2dvNCkNCiAgICBwcmludCAoJ35+fn5+fn5+fn5+fn5QYXNzd29yZCBDaGFuZ2UgbWVudX5+fn5+fn5+fn5+JykNCiAgICBwcmludCAoNDcqJy0nKQ0KICAgIGNvaz1pbnB1dCgnUGFzdGUgY29va2llOiAnKQ0KICAgIHB3b2xkPWlucHV0KCdDdXJyZW50IHBhc3N3b3JkOiAnKQ0KICAgIHB3bmV3PWlucHV0KCdOZXcgcGFzc3dvcmQ6ICcpDQogICAgY29raT1jb2sucmVwbGFjZSgnICcsICcnKQ0KICAgIGNva2llID0gY29raSsnOycNCiAgICB0cnk6DQogICAgICAgIGRhdHI9Y29raWUuc3BsaXQoJ2RhdHI9JylbMV0uc3BsaXQoJzsnKVswXQ0KICAgICAgICBmcj1jb2tpZS5zcGxpdCgnZnI9JylbMV0uc3BsaXQoJzsnKVswXQ0KICAgICAgICBjX3VzZXI9Y29raWUuc3BsaXQoJ2NfdXNlcj0nKVsxXS5zcGxpdCgnOycpWzBdDQogICAgICAgIHhzPWNva2llLnNwbGl0KCd4cz0nKVsxXS5zcGxpdCgnOycpWzBdDQogICAgICAgIGNva2llZT0nZGF0cj0nK2RhdHIrJzsnKydmcj0nK2ZyKyc7JysnY191c2VyPScrY191c2VyKyc7JysneHM9Jyt4cysnOycNCiAgICBleGNlcHQ6DQogICAgICAgIGRhdHI9Y29raWUuc3BsaXQoJ2RhdHI9JylbMV0uc3BsaXQoJzsnKVswXQ0KICAgICAgICBjX3VzZXI9Y29raWUuc3BsaXQoJ2NfdXNlcj0nKVsxXS5zcGxpdCgnOycpWzBdDQogICAgICAgIHhzPWNva2llLnNwbGl0KCd4cz0nKVsxXS5zcGxpdCgnOycpWzBdDQogICAgICAgIGNva2llZT0nZGF0cj0nK2RhdHIrJzsnKydjX3VzZXI9JytjX3VzZXIrJzsnKyd4cz0nK3hzKyc7Jw0KICAgIGNvb2tpZT1jb2tpZWUNCiAgICBsYW5ndWFnZShjb29raWUpDQogICAgdHJ5Og0KICAgICAgICBzZXM9cmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgIHJlZiA9IEJlYXV0aWZ1bFNvdXAoc2VzLmdldCgiaHR0cHM6Ly94LmZhY2Vib29rLmNvbS9zZXR0aW5ncy9zZWN1cml0eS9wYXNzd29yZCIsIGNvb2tpZXM9eydjb29raWUnOmNvb2tpZX0pLnRleHQsICJodG1sLnBhcnNlciIpDQogICAgICAgIGNoZWNrY3AocmVmKQ0KICAgICAgICBpZiAnL2xvZ2luLnBocD9uZXh0PScgaW4gc3RyKHJlZik6DQogICAgICAgICAgICBwcmludCAoJ01heWJlIHlvdXIgYWNjb3VudCBjcCBvciBsb2NrIGxvZ2luIHlvdXIgYWNjb3VudCBpbiB5b3VyIGtpd2kgYnJvd3NlciBpZiBnZXQgbG9naW4gc3VjY2VzcyB0aGVuIHRha2UgbmV3IGNvb2tpZSBmcm9tIGtpd2kgYnJvd3NlciBhbmQgdHJ5IGFnYWluJykNCiAgICAgICAgICAgIGlucHV0KCdQcmVzcyBlbnRlciB0byBiYWNrJykNCiAgICAgICAgICAgIG1lbnUoKQ0KICAgICAgICBlbGlmICdmYWNlYm9vay5jb20vemVyby90b2dnbGUvbnV4LycgaW4gc3RyKHJlZik6DQogICAgICAgICAgICBwcmludCAoJ0Nva2llIG5vdCBhY2NlcHQgZmlyc3QgbG9naW4gYWNjb3VudCBpbiB5b3VyIGtpd2kgYnJvd3NlciBhbmQgZ2V0IG5ldyBjb29raWUgZnJvbSBraXdpIGJyb3dzZXIgYW5kIHRyeSBhZ2FpbicpDQogICAgICAgICAgICBpbnB1dCgnUHJlc3MgZW50ZXIgdG8gYmFjaycpDQogICAgICAgICAgICBtZW51KCkNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgIHBhc3MNCiAgICAgICAgZm9yIHkgaW4gcmVmLmZpbmRfYWxsKCJhIixocmVmPVRydWUpOg0KICAgICAgICAgICAgaWYgJy96ZXJvL29wdGluL3dyaXRlLz9hY3Rpb249Y2FuY2VsJyBpbiBzdHIoeSk6DQogICAgICAgICAgICAgICAgcmVmZj15LmdldCgnaHJlZicpDQogICAgICAgICAgICAgICAgYWo9QmVhdXRpZnVsU291cChzZXMuZ2V0KCdodHRwczovL3guZmFjZWJvb2suY29tJytyZWZmLCBjb29raWVzPXsnY29va2llJzpjb29raWV9KS50ZXh0LCAnaHRtbC5wYXJzZXInKQ0KICAgICAgICAgICAgICAgIGNoZWNrY3AoYWopDQogICAgICAgICAgICAgICAgZm9yIHggaW4gYWouZmluZF9hbGwoJ2Zvcm0nLCB7J21ldGhvZCc6ICdwb3N0J30pOg0KICAgICAgICAgICAgICAgICAgICBpZiAnL3plcm8vb3B0aW4vd3JpdGUvP2FjdGlvbj1jb25maXJtJyBpbiBzdHIoeCk6DQogICAgICAgICAgICAgICAgICAgICAgICBsaW5rPXguZ2V0KCdhY3Rpb24nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdXNlPXJlLmZpbmRhbGwoJ2RhdGEtc2lnaWw9InRvdWNoYWJsZSIgdHlwZT0ic3VibWl0IiB2YWx1ZT0iKC4qPykiJywgc3RyKHgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHQgaW4gdXNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZTE9dA0KICAgICAgICAgICAgICAgICAgICAgICAgZG9nPXt9DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgeiBpbiB4KCdpbnB1dCcpOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvZy51cGRhdGUoe3ouZ2V0KCJuYW1lIik6ei5nZXQoInZhbHVlIil9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgZG9nLnVwZGF0ZSh7J3N1Ym1pdCc6IHVzZTF9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgYWE9QmVhdXRpZnVsU291cChzZXMucG9zdCgnaHR0cHM6Ly94LmZhY2Vib29rLmNvbScrbGluaywgZGF0YT1kb2csIGNvb2tpZXM9eydjb29raWUnOmNvb2tpZX0pLnRleHQsICdodG1sLnBhcnNlcicpDQogICAgICAgICAgICAgICAgICAgICAgICByZWYgPSBCZWF1dGlmdWxTb3VwKHNlcy5nZXQoImh0dHBzOi8veC5mYWNlYm9vay5jb20vc2V0dGluZ3Mvc2VjdXJpdHkvcGFzc3dvcmQiLCBjb29raWVzPXsnY29va2llJzpjb29raWV9KS50ZXh0LCAiaHRtbC5wYXJzZXIiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tjcChyZWYpDQogICAgICAgIGZvciB4IGluIHJlZi5maW5kX2FsbCgiZm9ybSIsIHsibWV0aG9kIjoicG9zdCJ9KToNCiAgICAgICAgICAgIGlmICcvcGFzc3dvcmQvY2hhbmdlLz9yZWRpcmVjdF91cmk9JyBpbiBzdHIoeCk6DQogICAgICAgICAgICAgICAgbGluaz14LmdldCgnYWN0aW9uJykNCiAgICAgICAgICAgICAgICBibD1bJ2ZiX2R0c2cnLCAnamF6b2VzdCcsICdwYXNzd29yZF9jaGFuZ2Vfc2Vzc2lvbl9pZGVudGlmaWVyJ10NCiAgICAgICAgICAgICAgICBzdWJtaXQ9cmUuZmluZGFsbCgnZGF0YS1zaWdpbD0idG91Y2hhYmxlIiBuYW1lPSJzYXZlIiB0eXBlPSJzdWJtaXQiIHZhbHVlPSIoLio/KSInLCBzdHIoeCkpDQogICAgICAgICAgICAgICAgZm9yIHkgaW4gc3VibWl0Og0KICAgICAgICAgICAgICAgICAgICBzdWJtaXQxPXkNCiAgICAgICAgICAgICAgICBkYXRhcz17fQ0KICAgICAgICAgICAgICAgIGZvciB2IGluIHgoJ2lucHV0Jyk6DQogICAgICAgICAgICAgICAgICAgIGlmIHYuZ2V0KCJuYW1lIikgaW4gYmw6DQogICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YXMudXBkYXRlKHt2LmdldCgibmFtZSIpOnYuZ2V0KCJ2YWx1ZSIpfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgICAgICAgICAgZGF0YXMudXBkYXRlKHsicGFzc3dvcmRfb2xkIjpwd29sZCwgInBhc3N3b3JkX25ldyI6cHduZXcsICJwYXNzd29yZF9jb25maXJtIjpwd25ldywgInNhdmUiOnN1Ym1pdDF9KQ0KICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBCZWF1dGlmdWxTb3VwKHNlcy5wb3N0KCJodHRwczovL3guZmFjZWJvb2suY29tIitsaW5rLCBkYXRhPWRhdGFzLCBjb29raWVzPXsnY29va2llJzpjb29raWV9KS50ZXh0LCAnaHRtbC5wYXJzZXInKQ0KICAgICAgICAgICAgICAgICAgICBjaGVja2NwKHJlc3BvbnNlKQ0KICAgICAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlNTTEVycm9yOg0KICAgICAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgKGxvZ280KQ0KICAgICAgICAgICAgICAgICAgICBwcmludCAoJ2ludGVybmV0IHByb2JsZW0nKQ0KICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDMpDQogICAgICAgICAgICAgICAgICAgIG1lbnUoKQ0KICAgICAgICAgICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoNCiAgICAgICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgICAgICAgICAgICAgIHByaW50IChsb2dvNCkNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgKCdpbnRlcm5ldCBwcm9ibGVtJykNCiAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCgzKQ0KICAgICAgICAgICAgICAgICAgICBtZW51KCkNCiAgICAgICAgICAgICAgICBmb3IgeCBpbiByZXNwb25zZS5maW5kX2FsbCgnZm9ybScsIHsnbWV0aG9kJzogJ3Bvc3QnfSk6DQogICAgICAgICAgICAgICAgICAgIGlmICdzZXR0aW5ncy9hY2NvdW50L3Bhc3N3b3JkL3N1cnZleS8nIGluIHN0cih4KToNCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbms9eC5nZXQoJ2FjdGlvbicpDQogICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXQ9cmUuZmluZGFsbCgnbmFtZT0ic3VibWl0X2FjdGlvbiIgdHlwZT0ic3VibWl0IiB2YWx1ZT0iKC4qPykiJywgc3RyKHgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZ2w9WydmYl9kdHNnJywgJ2phem9lc3QnXQ0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0dD17fQ0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHogaW4geCgnaW5wdXQnKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB6LmdldCgnbmFtZScpIGluIGdsOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXR0LnVwZGF0ZSh7ei5nZXQoJ25hbWUnKTp6LmdldCgndmFsdWUnKX0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdHQudXBkYXRlKHsnc2Vzc2lvbl9pbnZhbGlkYXRpb25fb3B0aW9ucyc6ICdrZWVwX3Nlc3Npb25zJywgJ3N1Ym1pdF9hY3Rpb24nOiBzdWJtaXR9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgZG92PXNlcy5wb3N0KCdodHRwczovL3guZmFjZWJvb2suY29tJytsaW5rLCBkYXRhPWRhdHQsIGNvb2tpZXM9eydjb29raWUnOmNvb2tpZX0pLnRleHQNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICgnU3VjY2Vzc2Z1bHkgcGFzcyBjaGFuZ2VkJykNCiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0KCdQcmVzcyBlbnRlciB0byBiYWNrJykNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnUoKQ0KICAgICAgICAgICAgICAgIHByaW50ICgnTWF5YmUgcGFzcyB3cm9uZyBvciBtYXliZSBhY2NvdW50IG9uIGNwIG9yIGxvY2snKQ0KICAgICAgICAgICAgICAgIGlucHV0KCdQcmVzcyBlbnRlciB0byBiYWNrJykNCiAgICAgICAgICAgICAgICBtZW51KCkNCiAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5TU0xFcnJvcjoNCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgICAgIHByaW50IChsb2dvNCkNCiAgICAgICAgcHJpbnQgKCdpbnRlcm5ldCBwcm9ibGVtJykNCiAgICAgICAgdGltZS5zbGVlcCgzKQ0KICAgICAgICBtZW51KCkNCiAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgICAgICBwcmludCAobG9nbzQpDQogICAgICAgIHByaW50ICgnaW50ZXJuZXQgcHJvYmxlbScpDQogICAgICAgIHRpbWUuc2xlZXAoMykNCiAgICAgICAgbWVudSgpDQogICAgZXhjZXB0IChLZXlib2FyZEludGVycnVwdCwgRU9GRXJyb3IpOg0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgcHJpbnQgKGxvZ280KQ0KICAgICAgICBwcmludCAoJ09vcHMgV3JvbmcgaW5wdXQgVHJ5IEFnYWluJykNCiAgICAgICAgc3lzLmV4aXQoKQ0KICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgcHJpbnQgKCdNYXliZSB3cm9uZyBwYXNzIG9yIG1heWJlIGFjY291bnQgb24gY3Agb3IgbG9jaycpDQogICAgICAgIGlucHV0KCdQcmVzcyBlbnRlciB0byBiYWNrJykNCiAgICAgICAgbWVudSgpDQoNCm1lbnUoKQ0K'''))